{% extends "admin_template.html.twig" %}
{% block section1L %}
    <div class="container-fluid h-100 pt-5"> 
        <div class="row w-100 h-75 justify-content-center m-auto"> 
            <div class="custom_admin_profile_div_title col-lg-6 h-25 d-flex align-items-center justify-content-center m-4">
                <h2 class="custom_admin_profile_title text-center">Profil de
                {% if user.role is same as(1) %}
                    {{user.name}} 
                {% else %}
                    {{user.company}}
                {% endif %}
                </h2>
            </div>
            <div class="col-lg-12 h-50 d-flex align-items-center justify-content-center">
                <img class="img-fluid m-3 " src={% if user.role is same as(1) %}"./images/profile/indiv_chouchêne.png" alt="personne tenant affiche avec des légumes" {% else %}"./images/profile/pro_chouchêne.png" alt="maison en bois" {% endif %} id="custom_admin_profile_s1_col1" />            
            </div> 
            {% if user.role is same as(1) %}  
            <div class="row w-100 h-25 d-flex text-center m-2">
                <div class="row d-flex justify-content-center align-items-center m-auto">        
                    <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
                        <div>
                            <i class="custom_admin_icon_badge fa fa-newspaper fa-3x text-light" title="Annonce(s) en cours"></i>
                            <span class="custom_admin_badges badge badge-primary">{{badges.createdAdds}}</span>
                        </div>
                    </div>                                               
                </div>
                <div class="row d-flex justify-content-center align-items-center m-auto">
                    <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
                        <div>
                            <i class="custom_admin_icon_badge fa fa-hands-helping fa-3x text-light" title="Missions réalisées"></i>
                            <span class="custom_admin_badges badge badge-primary">{{badges.acceptedAdds}}</span>
                        </div>
                    </div> 
                </div>
                {% else %}
                <div class="row w-100 h-50 d-flex text-center m-auto">
                    <div class="row d-flex justify-content-center align-items-center m-auto">
                    <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
                        <a href="index.php?controller=baskets&action=mybaskets"> 
                            <i class="custom_admin_icon_badge fa fa-shopping-basket fa-3x text-light" title="Paniers disponibles"></i>
                            <span class="custom_admin_badges badge badge-primary">{{badges.availableBaskets}}</span>
                        </a>
                    </div>        
                </div>        
                {% endif %}
            </div>
        </div>      
    </div>
{% endblock %}

{% block section1R %}
    <div class="container-fluid h-100 px-0 pt-5 mt-5">
        <div class="row justify-content-center align-items-center m-0 ">
            <div class="col-lg-6 h-25 pb-1 m-auto text-center "> 
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#change_infos">Modifier tes infos</button>
            </div>
            <div  class="collapse col-lg-12 h-75 px-0" id="change_infos">
                <img class="custom_admin_bg_form col-12 p-0" src="./images/background/blue_store.png" alt="store bleu"/>    
                <form  class="custom_admin_form col-12 px-2 pt-5" method="POST" action="index.php?controller=users&action=updateUser">
                    <div class="form-group row col-12 justify-content-center m-0 p-1">
                        {% if user.role is same as(2) %}
                            <label for="company"></label>
                            <input class="form-control col-4" type="text" placeholder="Nom entreprise" name="company" value="{{user.company}}" required />
                        {% endif %}
                        <label for="name"></label>
                        <input class="form-control col-4" type="text" placeholder="Votre prénom" name="name" value="{{user.name}}"  required />
                        <label for="surname"></label>
                        <input class="form-control col-4" type="text" placeholder="Votre nom" name="surname" value="{{ user.surname}}" required />
                    </div>
                    <div class="form-group d-flex col-12 justify-content-center m-0 p-1"> 
                        <label for="profile"></label>   
                        <textarea class="form-control col-12 m-0 p-1" placeholder="Description" name="profile">{{user.profile}}</textarea>
                    </div>
                    <div class="form-group d-flex col-12 justify-content-center m-0 p-1">
                        <label for="address"></label>
                        <input class="form-control col-md-6" type="text" placeholder="Adresse" name="address"value="{{user.address}}"  required />
                        <label for="zip_code"></label>
                        <input class="form-control col-3" type="text" placeholder="Code postal" name="zip_code" value="{{user.zip_code}}" required />
                        <label for="city"></label>
                        <input class="form-control col-3" type="text" placeholder="Ville" name="city" value="{{user.city}}" required />
                    </div>
                    <div class="form-group d-flex col-12 justify-content-center m-0 p-1">
                        <label for="phone"></label>
                        <input class="form-control col-4" type="text" placeholder="n° tel" name="phone" value="{{user.phone}}" required />
                        <label for="email"></label>
                        <input class="form-control col-8" type="email" placeholder="email" name="email" value="{{user.email}}" required />
                    </div>
                    <div class="form-group d-flex col-12 justify-content-center m-0 p-3">                
                        <p class="form-text col-6 m-0 p-0">Pour changer de mot de passe, tape le nouveau dans le champs suivant</p>
                        <label for="password"></label> 
                        <input class="form-control col-6" type="password" placeholder="changer de mot de passe" name="password"/>
                    </div>
                    <div class="row justify-content-center">
                        <button class="btn btn-primary mb-1" type="submit">Valider</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="custom_admin_window container d-flex justify-content-center align-items-top  h-75 p-0">
            <div class="row justify-content-end w-50 h-50">    
                <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3">
                </div>
                <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3"> 
                </div>
            </div>
            <div class="row w-50 h-50">    
                <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3">
                </div>
                <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3"> 
                </div>
            </div>
        </div>
    </div>
{% endblock %}
