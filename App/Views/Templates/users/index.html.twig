{% extends "admin_template.html.twig" %}
{% block section1 %}

<div class="container-fluid w-100 h-75"> 
    <div class="row w-100 h-50 justify-content-center m-auto"> 
        <div class="custom_admin_profile_div_title col-md-8 d-flex align-items-center justify-content-center m-4">
            <h2 class="custom_admin_profile_title text-center">Profil de
            {% if user.role is same as(1) %}
                {{user.name}} 
            {% else %}
                {{user.company}}
            {% endif %}
            </h2>
        </div>

        <div class="col-md-6 d-flex align-items-center justify-content-center">
            <div class="container d-flex align-items-center justify-content-around m-auto" >
                <img class="img-fluid m-3 " src={% if user.role is same as(1) %}"./images/profile/indiv_profile.png" alt="personne tenant affiche avec des légumes" {% else %}"./images/profile/wood_house.png" alt="maison en bois" {% endif %} id="custom_admin_profile_s1_col1" />
            </div>
        </div>

        
            
    </div>
    
    {% if user.role is same as(1) %}  
    <div class="row w-100 h-50 d-flex text-center m-auto">
        <div class="row d-flex justify-content-center align-items-center m-auto">        
            <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
            <a href="#">
                <i class="custom_admin_icon_badge fa fa-newspaper fa-3x text-light" title="Annonce(s) en cours"></i>
                <span class="custom_admin_badges badge badge-primary">{{badges.createdAdds}}</span>
                </div>
            </a>                           
        </div>
        <div class="row d-flex justify-content-center align-items-center m-auto">
            <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
                <a href="#">
                    <i class="custom_admin_icon_badge fa fa-hands-helping fa-3x text-light" title="Missions réalisées"></i>
                    <span class="custom_admin_badges badge badge-primary">{{badges.acceptedAdds}}</span>
                </a>
            </div> 
        </div>
        {% else %}
        <div class="row w-100 h-50 d-flex text-center m-auto">
            <div class="row d-flex justify-content-center align-items-center m-auto">
            <div class="custom_admin_circle d-flex justify-content-center align-items-center bg-light">
                <a href="#"> 
                    <i class="custom_admin_icon_badge fa fa-shopping-basket fa-3x text-light" title="Missions réalisées"></i>
                    <span class="custom_admin_badges badge badge-primary">{{badges.availableBaskets}}</span>
                </a>
            </div>        
        </div>        
        {% endif %}
    </div>    
</div>
{% endblock %}

{% block section2 %}

<div class="row  w-100 h-75">
    <div class=" col-md-12 h-25 ">
        <div class="row justify-content-center"> 
            <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#change_infos">Modifier tes infos</button>
        </div>
        <div id="change_infos" class="collapse container-fluid">
            <div class="custom_admin_bg_form row align-items-center" >
                <form  class=" col-md-12 pt-5" method="POST" action="index.php?controller=users&action=updateUser">
                    <div class="form-group row col-md-12 justify-content-center m-2">
                        {% if user.role is same as(2) %}
                            <label for="company"></label>
                            <input class="form-control col-md-3" type="text" placeholder="Nom entreprise" name="company" value="{{user.company}}" required />
                        {% endif %}
                        <label for="name"></label>
                        <input class="form-control col-md-3" type="text" placeholder="Votre prénom" name="name" value="{{user.name}}"  required />
                        <label for="surname"></label>
                        <input class="form-control col-md-3" type="text" placeholder="Votre nom" name="surname" value="{{ user.surname}}" required />
                    </div>
                    <div class="form-group d-flex col-md-12 justify-content-center m-2"> 
                        <label for="profile"></label>   
                        <textarea class="form-control col-md-10" placeholder="Description" name="profile">{{user.profile}}</textarea>
                    </div>
                    <div class="form-group row col-md-12 justify-content-center m-2">
                        <label for="address"></label>
                        <input class="form-control col-md-4" type="text" placeholder="Adresse" name="address"value="{{user.address}}"  required />
                        <label for="zip_code"></label>
                        <input class="form-control col-md-3" type="text" placeholder="Code postal" name="zip_code" value="{{user.zip_code}}" required />
                        <label for="city"></label>
                        <input class="form-control col-md-3" type="text" placeholder="Ville" name="city" value="{{user.city}}" required />
                    </div>
                    <div class="form-group row col-md-12 justify-content-center m-2">
                        <label for="phone"></label>
                        <input class="form-control col-md-4" type="text" placeholder="n° tel" name="phone" value="{{user.phone}}" required />
                        <label for="email"></label>
                        <input class="form-control col-md-4" type="email" placeholder="email" name="email" value="{{user.email}}" required />
                    </div>
                    <div class="form-group row col-md-12 justify-content-center m-2">                
                        <p class="form-text col-md-4">Pour changer de mot de passe, tape le nouveau dans le champs suivant</p>
                        <label for="password"></label> 
                        <input class="form-control col-md-4" type="password" placeholder="changer de mot de passe" name="password"/>
                    </div>
                    <div class="row justify-content-center">
                        <button class="btn btn-primary d-flex justify-content-end mb-5" type="submit">Valider</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="container d-flex justify-content-center align-items-top w-100 h-75 ">
        <div class="row justify-content-end w-100 h-50">    
            <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3">
            </div>
            <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3"> 
            </div>
        </div>
        <div class="row w-100 h-50">    
            <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3">
            </div>
            <div class="custom_admin_bg_s1col2 container d-flex w-50 h-50 mx-3"> 
            </div>
        </div>
    </div>
    {# <div class="container d-flex col-md-8 justify-content-center align-items-top w-100 h-50 m-auto">
        <div class="custom_admin_bg_s1col2 col-md-5 m-2 h-50">
        </div>
        <div class="custom_admin_bg_s1col2 col-md-5 m-2 h-50"> 
        </div>
    </div> #}
</div>
{% endblock %}


